<!DOCTYPE html>
<html>

<head>
    <title>API Test</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
        }

        .success {
            color: green;
        }

        .error {
            color: red;
        }
    </style>
</head>

<body>
    <h2>Mini App API Test</h2>
    <div id="results"></div>

    <script>
        const results = document.getElementById('results');
        const apiUrl = 'http://localhost:8001/api/catalog/products/';

        results.innerHTML += `<p>Testing: ${apiUrl}</p>`;

        fetch(apiUrl)
            .then(res => {
                results.innerHTML += `<p class="success">✓ Response status: ${res.status}</p>`;
                return res.json();
            })
            .then(data => {
                results.innerHTML += `<p class="success">✓ Products found: ${data.length}</p>`;
                results.innerHTML += `<pre>${JSON.stringify(data.slice(0, 2), null, 2)}</pre>`;
            })
            .catch(err => {
                results.innerHTML += `<p class="error">✗ Error: ${err.message}</p>`;
            });
    </script>
</body>

</html>